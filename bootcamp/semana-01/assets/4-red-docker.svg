<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <!-- Background -->
  <rect width="1000" height="600" fill="#1e1e1e"/>
  
  <!-- Title -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">
    Configuración de Red Docker
  </text>
  
  <!-- External Network -->
  <rect x="30" y="70" width="940" height="500" fill="#2d2d2d" stroke="#8b949e" stroke-width="2" rx="10" stroke-dasharray="10,5"/>
  <text x="500" y="95" font-family="Arial, sans-serif" font-size="14" fill="#8b949e" text-anchor="middle" font-weight="bold">
    Red Externa / Internet
  </text>
  
  <!-- Host Machine -->
  <rect x="60" y="120" width="880" height="420" fill="#1e1e1e" stroke="#58a6ff" stroke-width="3" rx="10"/>
  <text x="500" y="150" font-family="Arial, sans-serif" font-size="16" fill="#58a6ff" text-anchor="middle" font-weight="bold">
    Docker Host (Servidor)
  </text>
  
  <!-- Docker Bridge Network -->
  <rect x="90" y="180" width="820" height="320" fill="#2d2d2d" stroke="#7ee787" stroke-width="3" rx="10"/>
  <text x="500" y="210" font-family="Arial, sans-serif" font-size="15" fill="#7ee787" text-anchor="middle" font-weight="bold">
    Docker Network: app-network (bridge)
  </text>
  
  <!-- Nginx Container -->
  <rect x="120" y="240" width="220" height="220" fill="#383838" stroke="#ffa657" stroke-width="2" rx="8"/>
  <text x="230" y="270" font-family="Arial, sans-serif" font-size="14" fill="#ffa657" text-anchor="middle" font-weight="bold">
    nginx-container
  </text>
  
  <!-- Nginx ports -->
  <rect x="140" y="290" width="180" height="40" fill="#2d2d2d" stroke="#58a6ff" stroke-width="1" rx="5"/>
  <text x="230" y="310" font-family="monospace" font-size="11" fill="#ffffff" text-anchor="middle">
    Port Mapping:
  </text>
  <text x="230" y="323" font-family="monospace" font-size="10" fill="#7ee787" text-anchor="middle">
    80:80, 443:443
  </text>
  
  <!-- Nginx IP -->
  <rect x="140" y="340" width="180" height="35" fill="#2d2d2d" stroke="#d2a8ff" stroke-width="1" rx="5"/>
  <text x="230" y="360" font-family="monospace" font-size="10" fill="#d2a8ff" text-anchor="middle">
    IP: 172.20.0.2
  </text>
  
  <!-- Nginx volumes -->
  <rect x="140" y="385" width="180" height="55" fill="#2d2d2d" stroke="#f78166" stroke-width="1" rx="5"/>
  <text x="230" y="405" font-family="monospace" font-size="10" fill="#ffffff" text-anchor="middle">
    Volumes:
  </text>
  <text x="230" y="420" font-family="monospace" font-size="9" fill="#8b949e" text-anchor="middle">
    nginx-config
  </text>
  <text x="230" y="432" font-family="monospace" font-size="9" fill="#8b949e" text-anchor="middle">
    nginx-logs
  </text>
  
  <!-- API Container -->
  <rect x="390" y="240" width="220" height="220" fill="#383838" stroke="#ffa657" stroke-width="2" rx="8"/>
  <text x="500" y="270" font-family="Arial, sans-serif" font-size="14" fill="#ffa657" text-anchor="middle" font-weight="bold">
    api-container
  </text>
  
  <!-- API ports -->
  <rect x="410" y="290" width="180" height="40" fill="#2d2d2d" stroke="#58a6ff" stroke-width="1" rx="5"/>
  <text x="500" y="310" font-family="monospace" font-size="11" fill="#ffffff" text-anchor="middle">
    Internal Port:
  </text>
  <text x="500" y="323" font-family="monospace" font-size="10" fill="#7ee787" text-anchor="middle">
    3000
  </text>
  
  <!-- API IP -->
  <rect x="410" y="340" width="180" height="35" fill="#2d2d2d" stroke="#d2a8ff" stroke-width="1" rx="5"/>
  <text x="500" y="360" font-family="monospace" font-size="10" fill="#d2a8ff" text-anchor="middle">
    IP: 172.20.0.3
  </text>
  
  <!-- API env -->
  <rect x="410" y="385" width="180" height="55" fill="#2d2d2d" stroke="#f78166" stroke-width="1" rx="5"/>
  <text x="500" y="405" font-family="monospace" font-size="10" fill="#ffffff" text-anchor="middle">
    Environment:
  </text>
  <text x="500" y="420" font-family="monospace" font-size="9" fill="#8b949e" text-anchor="middle">
    NODE_ENV=production
  </text>
  <text x="500" y="432" font-family="monospace" font-size="9" fill="#8b949e" text-anchor="middle">
    DB_HOST=postgres-db
  </text>
  
  <!-- PostgreSQL Container -->
  <rect x="660" y="240" width="220" height="220" fill="#383838" stroke="#ffa657" stroke-width="2" rx="8"/>
  <text x="770" y="270" font-family="Arial, sans-serif" font-size="14" fill="#ffa657" text-anchor="middle" font-weight="bold">
    postgres-container
  </text>
  
  <!-- PostgreSQL ports -->
  <rect x="680" y="290" width="180" height="40" fill="#2d2d2d" stroke="#58a6ff" stroke-width="1" rx="5"/>
  <text x="770" y="310" font-family="monospace" font-size="11" fill="#ffffff" text-anchor="middle">
    Internal Port:
  </text>
  <text x="770" y="323" font-family="monospace" font-size="10" fill="#7ee787" text-anchor="middle">
    5432
  </text>
  
  <!-- PostgreSQL IP -->
  <rect x="680" y="340" width="180" height="35" fill="#2d2d2d" stroke="#d2a8ff" stroke-width="1" rx="5"/>
  <text x="770" y="360" font-family="monospace" font-size="10" fill="#d2a8ff" text-anchor="middle">
    IP: 172.20.0.4
  </text>
  
  <!-- PostgreSQL volumes -->
  <rect x="680" y="385" width="180" height="55" fill="#2d2d2d" stroke="#f78166" stroke-width="1" rx="5"/>
  <text x="770" y="405" font-family="monospace" font-size="10" fill="#ffffff" text-anchor="middle">
    Volumes:
  </text>
  <text x="770" y="420" font-family="monospace" font-size="9" fill="#8b949e" text-anchor="middle">
    postgres-data
  </text>
  <text x="770" y="432" font-family="monospace" font-size="9" fill="#8b949e" text-anchor="middle">
    postgres-backups
  </text>
  
  <!-- Network connections -->
  <line x1="340" y1="350" x2="390" y2="350" stroke="#7ee787" stroke-width="3"/>
  <text x="365" y="340" font-family="monospace" font-size="9" fill="#7ee787" text-anchor="middle">
    proxy_pass
  </text>
  
  <line x1="610" y1="350" x2="660" y2="350" stroke="#7ee787" stroke-width="3"/>
  <text x="635" y="340" font-family="monospace" font-size="9" fill="#7ee787" text-anchor="middle">
    DB conn
  </text>
  
  <!-- External connection -->
  <line x1="230" y1="120" x2="230" y2="180" stroke="#58a6ff" stroke-width="3" marker-end="url(#arrowdown)"/>
  <text x="260" y="155" font-family="monospace" font-size="10" fill="#58a6ff" text-anchor="start">
    HTTP/HTTPS
  </text>
  
  <!-- Network subnet info -->
  <rect x="120" y="475" width="760" height="15" fill="#2d2d2d" stroke="#d2a8ff" stroke-width="1" rx="3"/>
  <text x="500" y="487" font-family="monospace" font-size="10" fill="#d2a8ff" text-anchor="middle">
    Subnet: 172.20.0.0/16 | Gateway: 172.20.0.1
  </text>
  
  <!-- Legend -->
  <rect x="60" y="555" width="880" height="30" fill="#383838" stroke="#8b949e" stroke-width="1" rx="5"/>
  
  <line x1="80" y1="570" x2="110" y2="570" stroke="#7ee787" stroke-width="3"/>
  <text x="120" y="575" font-family="monospace" font-size="10" fill="#8b949e" text-anchor="start">
    Comunicación interna
  </text>
  
  <line x1="280" y1="570" x2="310" y2="570" stroke="#58a6ff" stroke-width="3"/>
  <text x="320" y="575" font-family="monospace" font-size="10" fill="#8b949e" text-anchor="start">
    Comunicación externa
  </text>
  
  <rect x="480" y="563" width="15" height="15" fill="none" stroke="#ffa657" stroke-width="2" rx="2"/>
  <text x="505" y="575" font-family="monospace" font-size="10" fill="#8b949e" text-anchor="start">
    Contenedor Docker
  </text>
  
  <rect x="680" y="563" width="15" height="15" fill="none" stroke="#f78166" stroke-width="2" rx="2"/>
  <text x="705" y="575" font-family="monospace" font-size="10" fill="#8b949e" text-anchor="start">
    Volumen persistente
  </text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowdown" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10 L3,5 z" fill="#58a6ff"/>
    </marker>
  </defs>
</svg>
